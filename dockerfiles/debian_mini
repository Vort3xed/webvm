FROM --platform=i386 i386/debian:buster

ARG DEBIAN_FRONTEND=noninteractive

# Install required packages
RUN apt-get clean && apt-get update && apt-get -y upgrade && \
    apt-get -y install apt-utils \
    python3 unzip nodejs lua50 luajit make g++ gcc \
    fakeroot dbus base hexedit \
    patch ucf file dialog  \
    less nano vim && \
    apt-get clean && rm -rf /var/lib/apt/lists/*


# Make a user, then copy over the /example directory
RUN useradd -m user && echo "user:password" | chpasswd
COPY --chown=user:user ./examples /home/user/examples
RUN chmod -R +x  /home/user/examples/lua
RUN echo 'root:password' | chpasswd
CMD [ "/bin/bash" ]


# RUN IMAGE AS 950M
